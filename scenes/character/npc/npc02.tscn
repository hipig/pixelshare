[gd_scene load_steps=43 format=3 uid="uid://d2sdumw70crqf"]

[ext_resource type="Script" uid="uid://1apu3ock4k5n" path="res://scripts/character/npc/npc.gd" id="1_2yx3q"]
[ext_resource type="Texture2D" uid="uid://casp7x6o3u5ry" path="res://assets/textures/character/npc/NPC 02_idle.png" id="1_jc65t"]
[ext_resource type="Script" uid="uid://b0bqn8gtyevqu" path="res://addons/behaviour_toolkit/finite_state_machine/fsm.gd" id="3_uw745"]
[ext_resource type="Texture2D" uid="uid://d1hbdt0v2fvr7" path="res://assets/textures/character/npc/NPC 02_walk.png" id="3_wa1wg"]
[ext_resource type="Script" uid="uid://rvnrknqax87d" path="res://scripts/character/npc/states/idle_state.gd" id="4_6sa45"]
[ext_resource type="Script" uid="uid://b1huguamc4uid" path="res://scripts/character/npc/transitions/on_moving.gd" id="5_wa1wg"]
[ext_resource type="Script" uid="uid://dqcou3cnnyiia" path="res://scripts/character/npc/states/walk_state.gd" id="6_6sa45"]
[ext_resource type="Script" uid="uid://vw1b2idudqmi" path="res://scripts/character/npc/transitions/on_stop.gd" id="7_wa1wg"]

[sub_resource type="AtlasTexture" id="AtlasTexture_2yx3q"]
atlas = ExtResource("1_jc65t")
region = Rect2(0, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_hcr08"]
atlas = ExtResource("1_jc65t")
region = Rect2(16, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_v5goe"]
atlas = ExtResource("1_jc65t")
region = Rect2(32, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_uw745"]
atlas = ExtResource("1_jc65t")
region = Rect2(48, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_m5bwy"]
atlas = ExtResource("1_jc65t")
region = Rect2(0, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_6sa45"]
atlas = ExtResource("1_jc65t")
region = Rect2(16, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_wa1wg"]
atlas = ExtResource("1_jc65t")
region = Rect2(32, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_qcoad"]
atlas = ExtResource("1_jc65t")
region = Rect2(48, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_b0quf"]
atlas = ExtResource("1_jc65t")
region = Rect2(0, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_03ve7"]
atlas = ExtResource("1_jc65t")
region = Rect2(16, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_22yj6"]
atlas = ExtResource("1_jc65t")
region = Rect2(32, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_4akph"]
atlas = ExtResource("1_jc65t")
region = Rect2(48, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_l7bm4"]
atlas = ExtResource("1_jc65t")
region = Rect2(0, 72, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_vaqfm"]
atlas = ExtResource("1_jc65t")
region = Rect2(16, 72, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_n54xn"]
atlas = ExtResource("1_jc65t")
region = Rect2(32, 72, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_afr15"]
atlas = ExtResource("1_jc65t")
region = Rect2(48, 72, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_w7c85"]
atlas = ExtResource("3_wa1wg")
region = Rect2(0, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_6bxas"]
atlas = ExtResource("3_wa1wg")
region = Rect2(16, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_sf5hy"]
atlas = ExtResource("3_wa1wg")
region = Rect2(32, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_6jat4"]
atlas = ExtResource("3_wa1wg")
region = Rect2(48, 0, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_2x240"]
atlas = ExtResource("3_wa1wg")
region = Rect2(0, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_ye1xo"]
atlas = ExtResource("3_wa1wg")
region = Rect2(16, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_ek6kg"]
atlas = ExtResource("3_wa1wg")
region = Rect2(32, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_5752j"]
atlas = ExtResource("3_wa1wg")
region = Rect2(48, 24, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_h11eg"]
atlas = ExtResource("3_wa1wg")
region = Rect2(0, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_yebve"]
atlas = ExtResource("3_wa1wg")
region = Rect2(16, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_8xo0u"]
atlas = ExtResource("3_wa1wg")
region = Rect2(32, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_xyq0t"]
atlas = ExtResource("3_wa1wg")
region = Rect2(48, 48, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_wlns8"]
atlas = ExtResource("3_wa1wg")
region = Rect2(0, 72, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_opkkv"]
atlas = ExtResource("3_wa1wg")
region = Rect2(16, 72, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_q3jg8"]
atlas = ExtResource("3_wa1wg")
region = Rect2(32, 72, 16, 24)

[sub_resource type="AtlasTexture" id="AtlasTexture_0x02d"]
atlas = ExtResource("3_wa1wg")
region = Rect2(48, 72, 16, 24)

[sub_resource type="SpriteFrames" id="SpriteFrames_w7c85"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2yx3q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hcr08")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v5goe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uw745")
}],
"loop": true,
"name": &"idle_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_m5bwy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6sa45")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wa1wg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qcoad")
}],
"loop": true,
"name": &"idle_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b0quf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_03ve7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_22yj6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4akph")
}],
"loop": true,
"name": &"idle_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_l7bm4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vaqfm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n54xn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_afr15")
}],
"loop": true,
"name": &"idle_up",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_w7c85")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6bxas")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sf5hy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6jat4")
}],
"loop": true,
"name": &"walk_down",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2x240")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ye1xo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ek6kg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5752j")
}],
"loop": true,
"name": &"walk_left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h11eg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yebve")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8xo0u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xyq0t")
}],
"loop": true,
"name": &"walk_right",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wlns8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_opkkv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q3jg8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0x02d")
}],
"loop": true,
"name": &"walk_up",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_jc65t"]
radius = 3.0
height = 8.0

[node name="NPC02" type="CharacterBody2D"]
script = ExtResource("1_2yx3q")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_w7c85")
animation = &"walk_left"
autoplay = "idle_down"
frame_progress = 0.834295

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 4)
shape = SubResource("CapsuleShape2D_jc65t")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
debug_enabled = true

[node name="FiniteStateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state", "actor")]
script = ExtResource("3_uw745")
initial_state = NodePath("IdleState")
actor = NodePath("..")
metadata/_custom_type_script = "uid://b0bqn8gtyevqu"

[node name="IdleState" type="Node" parent="FiniteStateMachine"]
script = ExtResource("4_6sa45")
metadata/_custom_type_script = "uid://k5p6yghm7nrm"

[node name="OnMoving" type="Node" parent="FiniteStateMachine/IdleState" node_paths=PackedStringArray("next_state")]
script = ExtResource("5_wa1wg")
next_state = NodePath("../../WalkState")
metadata/_custom_type_script = "uid://1h0braq41vwb"

[node name="WalkState" type="Node" parent="FiniteStateMachine"]
script = ExtResource("6_6sa45")
metadata/_custom_type_script = "uid://k5p6yghm7nrm"

[node name="OnStop" type="Node" parent="FiniteStateMachine/WalkState" node_paths=PackedStringArray("next_state")]
script = ExtResource("7_wa1wg")
next_state = NodePath("../../IdleState")
metadata/_custom_type_script = "uid://1h0braq41vwb"
